{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sabih Imran\\\\Desktop\\\\Runn Code\\\\Code\\\\WebPortal old 1\\\\WebPortal\\\\src\\\\Subject\\\\Components\\\\AddSubjectForm.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as yup from \"yup\";\nimport firebase from '../../shared/backend';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1)\n  },\n  Typography: {\n    fontFamily: theme.typography.fontFamily\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  GridStyle: {\n    margin: \"0px 22px\"\n  },\n  error: {\n    color: \"red\"\n  }\n}));\n\nconst AddSubjectForm = props => {\n  _s();\n\n  const classes = useStyles();\n  const validationSchema = yup.object().shape({\n    name: yup.string().required(\"This field is required\").matches(/^[A-Za-z ]*$/, \"Please enter valid name (Alphabets Only)\").min(3, \"First Name must be atleast 3 characters\"),\n    credit: yup.string().required(\"This field is required\"),\n    semester: yup.string().required(\"This field is required\")\n  });\n  ;\n\n  const onSubmitHandler = values => {\n    var a;\n    firebase.database().ref('Subject/').once('value', snapshot => {\n      if (snapshot.val() == undefined && snapshot.val() == null) {\n        a = 0;\n      } else {\n        a = Object.values(snapshot.val()).length;\n      }\n    }).then(() => {\n      firebase.database().ref('Subject/' + a).set({\n        credit: values.credit,\n        id: a,\n        name: values.name,\n        semester: values.semester,\n        teacherid: null\n      });\n    });\n    console.log(props.subjects);\n    props.setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: props.initialValues,\n      onSubmit: onSubmitHandler,\n      validationSchema: validationSchema,\n      children: fProps => /*#__PURE__*/_jsxDEV(Form, {\n        className: classes.form,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(Field, {\n              as: TextField,\n              autoComplete: \"name\",\n              name: \"name\",\n              variant: \"standard\",\n              fullWidth: true,\n              size: \"small\",\n              id: \"name\",\n              label: \"Name\",\n              autoFocus: true,\n              helperText: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"name\",\n                style: {\n                  color: \"red\",\n                  fontWeight: \"bold\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(Field, {\n              as: TextField,\n              variant: \"standard\",\n              fullWidth: true,\n              size: \"small\",\n              id: \"credit\",\n              label: \"Credit\",\n              name: \"credit\",\n              autoComplete: \"credit\",\n              helperText: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"credit\",\n                style: {\n                  color: \"red\",\n                  fontWeight: \"bold\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            children: /*#__PURE__*/_jsxDEV(Field, {\n              as: TextField,\n              variant: \"standard\",\n              fullWidth: true,\n              size: \"small\",\n              name: \"semester\",\n              label: \"Semester\",\n              id: \"semester\",\n              autoComplete: \"semester\",\n              helperText: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"semester\",\n                style: {\n                  color: \"red\",\n                  fontWeight: \"bold\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            color: \"secondary\",\n            className: classes.submit,\n            disabled: !(fProps.isValid || fProps.isSubmitting),\n            children: \"Add Subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(AddSubjectForm, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c = AddSubjectForm;\nexport default AddSubjectForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddSubjectForm\");","map":{"version":3,"sources":["C:/Users/Sabih Imran/Desktop/Runn Code/Code/WebPortal old 1/WebPortal/src/Subject/Components/AddSubjectForm.js"],"names":["React","Button","TextField","makeStyles","Grid","Formik","Form","Field","ErrorMessage","yup","firebase","useStyles","theme","form","width","marginTop","spacing","Typography","fontFamily","typography","submit","margin","GridStyle","error","color","AddSubjectForm","props","classes","validationSchema","object","shape","name","string","required","matches","min","credit","semester","onSubmitHandler","values","a","database","ref","once","snapshot","val","undefined","Object","length","then","set","id","teacherid","console","log","subjects","setOpen","initialValues","fProps","fontWeight","isValid","isSubmitting"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport firebase from '../../shared/backend'\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  Typography: {\r\n    fontFamily: theme.typography.fontFamily,\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  GridStyle: {\r\n    margin: \"0px 22px\",\r\n  },\r\n  error: {\r\n    color: \"red\"\r\n  }\r\n}));\r\n\r\nconst AddSubjectForm = (props) => {\r\n\r\n  const classes = useStyles();\r\n  const validationSchema = yup.object().shape({\r\n    name: yup\r\n      .string()\r\n      .required(\"This field is required\")\r\n      .matches(/^[A-Za-z ]*$/, \"Please enter valid name (Alphabets Only)\")\r\n      .min(3, \"First Name must be atleast 3 characters\"),\r\n\r\n    credit: yup\r\n      .string()\r\n      .required(\"This field is required\"),\r\n\r\n\r\n    semester: yup\r\n      .string()\r\n      .required(\"This field is required\"),\r\n\r\n  });\r\n\r\n\r\n  ;\r\n  const onSubmitHandler = (values) => {\r\n    var a;\r\n    firebase.database().ref('Subject/').once('value', (snapshot) => {\r\n      if (snapshot.val() == undefined && snapshot.val() == null) {\r\n        a = 0\r\n      } else {\r\n        a = Object.values(snapshot.val()).length\r\n      }\r\n    }).then(() => {\r\n      firebase.database().ref('Subject/' + a).set({\r\n        credit: values.credit,\r\n        id: a,\r\n        name: values.name,\r\n        semester: values.semester,\r\n        teacherid: null\r\n      })\r\n    })\r\n    console.log(props.subjects);\r\n    props.setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={props.initialValues}\r\n        onSubmit={onSubmitHandler}\r\n        validationSchema={validationSchema}\r\n      >\r\n        {(fProps) => (\r\n          <Form className={classes.form}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  autoComplete=\"name\"\r\n                  name=\"name\"\r\n                  variant=\"standard\"\r\n                  fullWidth\r\n                  size=\"small\"\r\n                  id=\"name\"\r\n                  label=\"Name\"\r\n                  autoFocus\r\n                  helperText={\r\n                    <ErrorMessage\r\n                      name=\"name\"\r\n                      style={{ color: \"red\", fontWeight: \"bold\" }}\r\n                    />\r\n                  }\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  variant=\"standard\"\r\n                  fullWidth\r\n                  size=\"small\"\r\n                  id=\"credit\"\r\n                  label=\"Credit\"\r\n                  name=\"credit\"\r\n                  autoComplete=\"credit\"\r\n\r\n                  helperText={\r\n                    <ErrorMessage\r\n                      name=\"credit\"\r\n                      style={{ color: \"red\", fontWeight: \"bold\" }}\r\n                    />\r\n                  }\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  variant=\"standard\"\r\n                  fullWidth\r\n                  size=\"small\"\r\n                  name=\"semester\"\r\n                  label=\"Semester\"\r\n                  id=\"semester\"\r\n                  autoComplete=\"semester\"\r\n                  helperText={\r\n                    <ErrorMessage\r\n                      name=\"semester\"\r\n                      style={{ color: \"red\", fontWeight: \"bold\" }}\r\n                    />\r\n                  }\r\n                />\r\n              </Grid>\r\n\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                className={classes.submit}\r\n                disabled={!(fProps.isValid || fProps.isSubmitting)}\r\n              >\r\n                Add Subject\r\n              </Button>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddSubjectForm;\r\n"]},"metadata":{},"sourceType":"module"}